<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1187.39">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="initial-scale=1.0, user-scalable=no" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style type="text/css"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>html { height: 100% }</p>
<p class="p1"><span class="Apple-converted-space">      </span>body { height: 100%; margin: 0; padding: 0 }</p>
<p class="p1"><span class="Apple-converted-space">      </span>#map-canvas { height: 100% }</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script type="text/javascript"</p>
<p class="p1"><span class="Apple-converted-space">      </span>src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDHFcdLdnfmORUaXycOASnqX488if96U5s&amp;sensor=true"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script type="text/javascript"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>var initialLocation;</p>
<p class="p1"><span class="Apple-converted-space">      </span>var siberia = new google.maps.LatLng(60, 105);</p>
<p class="p1"><span class="Apple-converted-space">      </span>var newyork = new google.maps.LatLng(40.69847032728747, -73.9514422416687);</p>
<p class="p1"><span class="Apple-converted-space">      </span>var browserSupportFlag =<span class="Apple-converted-space">  </span>new Boolean();</p>
<p class="p1"><span class="Apple-converted-space">      </span>function initialize() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>var mapOptions = {</p>
<p class="p1"><span class="Apple-converted-space">          </span>zoom: 8,</p>
<p class="p1"><span class="Apple-converted-space">          </span>mapTypeId: google.maps.MapTypeId.ROADMAP</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>var map = new google.maps.Map(document.getElementById("map-canvas"),</p>
<p class="p1"><span class="Apple-converted-space">            </span>mapOptions);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Try W3C Geolocation (Preferred)</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(navigator.geolocation) {</p>
<p class="p1"><span class="Apple-converted-space">          </span>browserSupportFlag = true;</p>
<p class="p1"><span class="Apple-converted-space">          </span>navigator.geolocation.getCurrentPosition(function(position) {</p>
<p class="p1"><span class="Apple-converted-space">          </span>initialLocation = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);</p>
<p class="p1"><span class="Apple-converted-space">          </span>map.setCenter(initialLocation);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>var infoWindow = new google.maps.InfoWindow({</p>
<p class="p1"><span class="Apple-converted-space">            </span>map: map,</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: initialLocation,</p>
<p class="p1"><span class="Apple-converted-space">            </span>content: 'Location found using HTML5.'</p>
<p class="p1"><span class="Apple-converted-space">          </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}, function() {</p>
<p class="p1"><span class="Apple-converted-space">          </span>handleNoGeolocation(browserSupportFlag);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// Browser doesn't support Geolocation</p>
<p class="p1"><span class="Apple-converted-space">      </span>else {</p>
<p class="p1"><span class="Apple-converted-space">        </span>browserSupportFlag = false;</p>
<p class="p1"><span class="Apple-converted-space">        </span>handleNoGeolocation(browserSupportFlag);</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function handleNoGeolocation(errorFlag) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (errorFlag == true) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>alert("Geolocation service failed.");</p>
<p class="p1"><span class="Apple-converted-space">        </span>initialLocation = newyork;</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">          </span>alert("Your browser doesn't support geolocation. We've placed you in Siberia.");</p>
<p class="p1"><span class="Apple-converted-space">          </span>initialLocation = siberia;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>map.setCenter(initialLocation);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>google.maps.event.addDomListener(window, 'load', initialize);</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/head&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="map-canvas"/&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
